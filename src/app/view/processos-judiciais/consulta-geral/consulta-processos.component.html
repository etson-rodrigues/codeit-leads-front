<div class="gerenciamento-usuarios-title">
  <button mat-icon-button aria-label="Retornar" routerLink="/processos-judiciais/consulta-geral">
    <mat-icon fontSet="fas" fontIcon="fa-chevron-left" class="icon-md-24"></mat-icon>
  </button>
  <h1>Consulta de Processos</h1>
</div>

<div class="container-consulta-processos">

  <div class="container-consulta mat-elevation-z24">
    <div class="container-form">
      <form class="form" [formGroup]="formConsulta" (submit)="search()" #formDirective="ngForm">
        <mat-form-field>
          <mat-label>Razão Social</mat-label>
          <input matInput formControlName="razaoSocial" placeholder="Razão Social" />
          <mat-error>{{validationInput('razaoSocial')}}</mat-error>
        </mat-form-field>

        <div class="container-button">
          <button type="submit" class="search" mat-raised-button (click)="search()">Pesquisar</button>
          <button type="button" class="cleanFilter" mat-raised-button (click)="cleanFilter()">Limpar Filtro</button>
        </div>
      </form>
    </div>

    <div *ngIf="searchResult != null && searchResult.length == 0">
      <p>Nenhum resultado foi encontrado</p>
    </div>

    <div [hidden]="!(searchResult && searchResult.length > 0)">
      <table mat-table [dataSource]="searchResult" class="result-table">

        <ng-container matColumnDef="nup">
          <th mat-header-cell *matHeaderCellDef id="nup"> NUP </th>
          <td mat-cell *matCellDef="let element"> {{element.nup}} </td>
        </ng-container>

        <ng-container matColumnDef="uf">
          <th mat-header-cell *matHeaderCellDef id="uf"> UF </th>
          <td mat-cell *matCellDef="let element"> {{element.uf}} </td>
        </ng-container>

        <ng-container matColumnDef="partesAtivas">
          <th mat-header-cell *matHeaderCellDef id="partesAtivas"> Partes Ativas </th>
          <td mat-cell *matCellDef="let element"> {{element.partesAtivas}}</td>
        </ng-container>

        <ng-container matColumnDef="partesPassivas">
          <th mat-header-cell *matHeaderCellDef id="partesPassivas"> Partes Passivas </th>
          <td mat-cell *matCellDef="let element"> {{element.partesPassivas}}</td>
        </ng-container>

        <ng-container matColumnDef="primeiraData">
          <th mat-header-cell *matHeaderCellDef id="primeiraData"> Primeira Data </th>
          <td mat-cell *matCellDef="let element"> {{element.primeiraData}} </td>
        </ng-container>

        <ng-container matColumnDef="dataUltimaAtualizacao">
          <th mat-header-cell *matHeaderCellDef id="dataUltimaAtualizacao"> Data Última Atualização
          </th>
          <td mat-cell *matCellDef="let element"> {{element.dataUltimaAtualizacao}} </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>

      <mat-paginator hidePageSize="true" [length]="totalRecords" [pageSize]="pageSize" showFirstLastButtons
        (page)="onPageChange($event)">
      </mat-paginator>
    </div>
  </div>

</div>